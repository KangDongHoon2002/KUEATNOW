{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kdonghoon\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\midtermProject_combined\\\\FE\\\\src\\\\components\\\\UserLimitScreen2\\\\UserLimitScreen2.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\nimport { db } from './firebase_config';\nimport './UserLimitScreen2.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserLimitScreen2() {\n  _s();\n  const [selectedStore, setSelectedStore] = useState(null);\n  const [budget, setBudget] = useState('');\n  const navigate = useNavigate();\n  const handleStoreClick = store => {\n    setSelectedStore(store);\n  };\n  const handleBudgetChange = e => {\n    setBudget(e.target.value);\n  };\n  const extractMaxPrice = menuString => {\n    const priceMatch = menuString.match(/\\((\\d+)(?:-(\\d+))?\\)/);\n    if (priceMatch) {\n      return priceMatch[2] ? parseInt(priceMatch[2]) : parseInt(priceMatch[1]);\n    }\n    return Infinity;\n  };\n  const handleNextClick = async () => {\n    if (selectedStore && parseInt(budget) >= 3000) {\n      try {\n        const menuRef = collection(db, \"menus\");\n        const q = query(menuRef, where(\"store_type\", \"==\", selectedStore));\n        const querySnapshot = await getDocs(q);\n        let menuList = [];\n        querySnapshot.forEach(doc => {\n          const menuData = doc.data();\n          const maxPrice = extractMaxPrice(menuData.menu);\n          if (maxPrice <= parseInt(budget)) {\n            menuList.push(menuData.menu);\n          }\n        });\n        navigate('/user-input', {\n          state: {\n            menuList,\n            selectedStore,\n            budget\n          }\n        });\n      } catch (error) {\n        console.error(\"Error fetching menus:\", error);\n        // 에러 처리, 예를 들어 사용자에게 에러 메시지 표시\n      }\n    } else {\n      // 입력값이 유효하지 않을 때 사용자에게 알림\n      alert(\"가게 종류를 선택하고 3000원 이상의 예산을 입력해주세요.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-limit-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logo-section\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uCFE0\\uC787\\uB098\\uC6B0 \\uB85C\\uACE0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uAC00\\uAC8C \\uC885\\uB958\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uCC3E\\uACE0 \\uC788\\uB294 \\uAC00\\uAC8C\\uC758 \\uC885\\uB958\\uC5D0 \\uB530\\uB77C \\uC9C8\\uBB38\\uC774 \\uB2EC\\uB77C\\uC838\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"store-buttons\",\n        children: ['밥집', '카페', '술집'].map(store => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `store-button ${selectedStore === store ? 'selected' : ''}`,\n          onClick: () => handleStoreClick(store),\n          children: store\n        }, store, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uC2DD\\uC0AC \\uC608\\uC0B0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uB2E4\\uC591\\uD55C \\uBA54\\uB274 \\uCD94\\uCC9C\\uC744 \\uC704\\uD574\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 33\n        }, this), \"4000\\uC6D0 \\uC774\\uC0C1\\uC744 \\uC785\\uB825\\uD558\\uB294 \\uAC78 \\uAD8C\\uC7A5\\uD574\\uC694.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"budget-input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"\\uC608\\uC0B0\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n          value: budget,\n          onChange: handleBudgetChange,\n          min: \"3000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uC6D0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `user-limit-next-button ${selectedStore && parseInt(budget) >= 3000 ? 'active' : ''}`,\n      onClick: handleNextClick,\n      disabled: !selectedStore || parseInt(budget) < 3000,\n      children: \"\\uB2E4\\uC74C\\uC73C\\uB85C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n_s(UserLimitScreen2, \"2UfsTDRxjodl4jCAhQIWlKQZhsQ=\", false, function () {\n  return [useNavigate];\n});\n_c = UserLimitScreen2;\nexport default UserLimitScreen2;\nvar _c;\n$RefreshReg$(_c, \"UserLimitScreen2\");","map":{"version":3,"names":["React","useState","useNavigate","collection","query","where","getDocs","db","jsxDEV","_jsxDEV","UserLimitScreen2","_s","selectedStore","setSelectedStore","budget","setBudget","navigate","handleStoreClick","store","handleBudgetChange","e","target","value","extractMaxPrice","menuString","priceMatch","match","parseInt","Infinity","handleNextClick","menuRef","q","querySnapshot","menuList","forEach","doc","menuData","data","maxPrice","menu","push","state","error","console","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","type","placeholder","onChange","min","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Kdonghoon/OneDrive/바탕 화면/midtermProject_combined/FE/src/components/UserLimitScreen2/UserLimitScreen2.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\r\nimport { db } from './firebase_config';\r\nimport './UserLimitScreen2.css';\r\n\r\nfunction UserLimitScreen2() {\r\n    const [selectedStore, setSelectedStore] = useState(null);\r\n    const [budget, setBudget] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleStoreClick = (store) => {\r\n        setSelectedStore(store);\r\n    };\r\n\r\n    const handleBudgetChange = (e) => {\r\n        setBudget(e.target.value);\r\n    };\r\n\r\n    const extractMaxPrice = (menuString) => {\r\n        const priceMatch = menuString.match(/\\((\\d+)(?:-(\\d+))?\\)/);\r\n        if (priceMatch) {\r\n            return priceMatch[2] ? parseInt(priceMatch[2]) : parseInt(priceMatch[1]);\r\n        }\r\n        return Infinity;\r\n    };\r\n\r\n    const handleNextClick = async () => {\r\n        if (selectedStore && parseInt(budget) >= 3000) {\r\n            try {\r\n                const menuRef = collection(db, \"menus\");\r\n                const q = query(menuRef, where(\"store_type\", \"==\", selectedStore));\r\n                const querySnapshot = await getDocs(q);\r\n                \r\n                let menuList = [];\r\n                querySnapshot.forEach((doc) => {\r\n                    const menuData = doc.data();\r\n                    const maxPrice = extractMaxPrice(menuData.menu);\r\n                    if (maxPrice <= parseInt(budget)) {\r\n                        menuList.push(menuData.menu);\r\n                    }\r\n                });\r\n\r\n                navigate('/user-input', { \r\n                    state: { \r\n                        menuList, \r\n                        selectedStore, \r\n                        budget \r\n                    } \r\n                });\r\n            } catch (error) {\r\n                console.error(\"Error fetching menus:\", error);\r\n                // 에러 처리, 예를 들어 사용자에게 에러 메시지 표시\r\n            }\r\n        } else {\r\n            // 입력값이 유효하지 않을 때 사용자에게 알림\r\n            alert(\"가게 종류를 선택하고 3000원 이상의 예산을 입력해주세요.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"user-limit-container\">\r\n            <div className=\"logo-section\">\r\n                <h1>쿠잇나우 로고</h1>\r\n            </div>\r\n            \r\n            <div className=\"section\">\r\n                <h2>가게 종류</h2>\r\n                <p>찾고 있는 가게의 종류에 따라 질문이 달라져요.</p>\r\n                <div className=\"store-buttons\">\r\n                    {['밥집', '카페', '술집'].map((store) => (\r\n                        <button\r\n                            key={store}\r\n                            className={`store-button ${selectedStore === store ? 'selected' : ''}`}\r\n                            onClick={() => handleStoreClick(store)}\r\n                        >\r\n                            {store}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"section\">\r\n                <h2>식사 예산</h2>\r\n                <p>다양한 메뉴 추천을 위해<br/>4000원 이상을 입력하는 걸 권장해요.</p>\r\n                <div className=\"budget-input-container\">\r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"예산을 입력해주세요.\"\r\n                        value={budget}\r\n                        onChange={handleBudgetChange}\r\n                        min=\"3000\"\r\n                    />\r\n                    <span>원</span>\r\n                </div>\r\n            </div>\r\n\r\n            <button\r\n                className={`user-limit-next-button ${selectedStore && parseInt(budget) >= 3000 ? 'active' : ''}`}\r\n                onClick={handleNextClick}\r\n                disabled={!selectedStore || parseInt(budget) < 3000}\r\n            >\r\n                다음으로\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserLimitScreen2;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}